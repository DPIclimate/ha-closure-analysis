<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Oyster HA Closure Analysis: src/FoodAuthority/food_auth.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Oyster HA Closure Analysis<span id="projectnumber">&#160;0.1</span>
   </div>
   <div id="projectbrief">Prediction and analysis of oyster harvest area closures.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('food__auth_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">food_auth.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="food__auth_8h_source.html">FoodAuthority/food_auth.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for food_auth.c:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="food__auth_8c__incl.svg" width="700" height="291"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aba76de9b85b0a6587f27778216a35061"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="food__auth_8c.html#aba76de9b85b0a6587f27778216a35061">FA_FindHTMLValue</a> (char *data, const char *search_term, char *value)</td></tr>
<tr class="memdesc:aba76de9b85b0a6587f27778216a35061"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find value with HTML tags.  <a href="food__auth_8c.html#aba76de9b85b0a6587f27778216a35061">More...</a><br /></td></tr>
<tr class="separator:aba76de9b85b0a6587f27778216a35061"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18dde823076bb884eb7f19ab0827ca71"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="food__auth_8c.html#a18dde823076bb884eb7f19ab0827ca71">FA_ParseResponse</a> (char *data, <a class="el" href="struct_f_a___harvest_area_status___type_def.html">FA_HarvestAreaStatus_TypeDef</a> *ha_status)</td></tr>
<tr class="memdesc:a18dde823076bb884eb7f19ab0827ca71"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse HTML data to populate status information data.  <a href="food__auth_8c.html#a18dde823076bb884eb7f19ab0827ca71">More...</a><br /></td></tr>
<tr class="separator:a18dde823076bb884eb7f19ab0827ca71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4121c48754e618c3eb17361341f78016"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="food__auth_8c.html#a4121c48754e618c3eb17361341f78016">cJSON_Minify_Mod</a> (char *json)</td></tr>
<tr class="memdesc:a4121c48754e618c3eb17361341f78016"><td class="mdescLeft">&#160;</td><td class="mdescRight">Modified minify function from cJSON.  <a href="food__auth_8c.html#a4121c48754e618c3eb17361341f78016">More...</a><br /></td></tr>
<tr class="separator:a4121c48754e618c3eb17361341f78016"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab32ed907e9451d0fa8be3be2803cca49"><td class="memItemLeft" align="right" valign="top">CURLcode&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="food__auth_8c.html#ab32ed907e9451d0fa8be3be2803cca49">FA_GetHarvestAreaStatus</a> (const char *harvest_name, <a class="el" href="struct_f_a___harvest_area_status___type_def.html">FA_HarvestAreaStatus_TypeDef</a> *ha_status)</td></tr>
<tr class="memdesc:ab32ed907e9451d0fa8be3be2803cca49"><td class="mdescLeft">&#160;</td><td class="mdescRight">Harvest area of interest status information.  <a href="food__auth_8c.html#ab32ed907e9451d0fa8be3be2803cca49">More...</a><br /></td></tr>
<tr class="separator:ab32ed907e9451d0fa8be3be2803cca49"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a4121c48754e618c3eb17361341f78016" name="a4121c48754e618c3eb17361341f78016"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4121c48754e618c3eb17361341f78016">&#9670;&nbsp;</a></span>cJSON_Minify_Mod()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void cJSON_Minify_Mod </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>json</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Modified minify function from cJSON. </p>
<p >HTML minify function modified from cJSON library.</p>
<p >The main cJSON_Minify() function gets rid of all white space and '/' characters in a string. This however, causes sentances to appear without the nessessary spaces between words. This modified function keeps only one space between each character (if more than one space occurs) and maintains the spaces between words in a sentance. Additionally '/' characters are maintained as they are used as datetime delimiters.</p>
<dl class="section see"><dt>See also</dt><dd><a href="https://github.com/DaveGamble/cJSON/blob/master/cJSON.c#L2838">https://github.com/DaveGamble/cJSON/blob/master/cJSON.c#L2838</a></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">json</td><td>The string to minify (parse). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aba76de9b85b0a6587f27778216a35061" name="aba76de9b85b0a6587f27778216a35061"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba76de9b85b0a6587f27778216a35061">&#9670;&nbsp;</a></span>FA_FindHTMLValue()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void FA_FindHTMLValue </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>search_term</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Find value with HTML tags. </p>
<p >Extracts the value (item between HTML tags) from a HTML tag.</p>
<p >This function takes a search term that is unique to a particular HTML tag and searchers for the tags value. The value is then added to a provided char* (value) and returns.</p>
<dl class="section note"><dt>Note</dt><dd>The search term can contain items from the previous HTML tag if the required tag doesn't have unique information.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td></td></tr>
    <tr><td class="paramname">search_term</td><td></td></tr>
    <tr><td class="paramname">value</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab32ed907e9451d0fa8be3be2803cca49" name="ab32ed907e9451d0fa8be3be2803cca49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab32ed907e9451d0fa8be3be2803cca49">&#9670;&nbsp;</a></span>FA_GetHarvestAreaStatus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CURLcode FA_GetHarvestAreaStatus </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>harvest_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_f_a___harvest_area_status___type_def.html">FA_HarvestAreaStatus_TypeDef</a> *&#160;</td>
          <td class="paramname"><em>ha_status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Harvest area of interest status information. </p>
<p >Gets harvest area status information from NSW Food Authority.</p>
<p >NSW Food Authority provides a JSON response with XML data as values. The XML data basically contains generic cards that are used on the NSW FA website. This function parses out the relevent XML data and used helper functions to pull out a struct containing relevent data.</p>
<div class="fragment"><div class="line"><a class="code hl_struct" href="struct_f_a___harvest_area_status___type_def.html">FA_HarvestAreaStatus_TypeDef</a> ha_status;</div>
<div class="line"><a class="code hl_function" href="food__auth_8h.html#ab32ed907e9451d0fa8be3be2803cca49">FA_GetHarvestAreaStatus</a>(<a class="code hl_define" href="food__auth_8h.html#adf5ca3c7375d312dd86f16c7157ae646">FA_HA_CLYDE_MOONLIGHT</a>, &amp;ha_status);</div>
<div class="ttc" id="afood__auth_8h_html_ab32ed907e9451d0fa8be3be2803cca49"><div class="ttname"><a href="food__auth_8h.html#ab32ed907e9451d0fa8be3be2803cca49">FA_GetHarvestAreaStatus</a></div><div class="ttdeci">CURLcode FA_GetHarvestAreaStatus(const char *harvest_name, FA_HarvestAreaStatus_TypeDef *ha_status)</div><div class="ttdoc">Harvest area of interest status information.</div><div class="ttdef"><b>Definition:</b> food_auth.c:39</div></div>
<div class="ttc" id="afood__auth_8h_html_adf5ca3c7375d312dd86f16c7157ae646"><div class="ttname"><a href="food__auth_8h.html#adf5ca3c7375d312dd86f16c7157ae646">FA_HA_CLYDE_MOONLIGHT</a></div><div class="ttdeci">#define FA_HA_CLYDE_MOONLIGHT</div><div class="ttdoc">Moonlight harvest area.</div><div class="ttdef"><b>Definition:</b> food_auth.h:14</div></div>
<div class="ttc" id="astruct_f_a___harvest_area_status___type_def_html"><div class="ttname"><a href="struct_f_a___harvest_area_status___type_def.html">FA_HarvestAreaStatus_TypeDef</a></div><div class="ttdoc">Harvest area status information.</div><div class="ttdef"><b>Definition:</b> food_auth.h:22</div></div>
</div><!-- fragment --><p >The havest area names for Batemans Bay are as follow:</p><ul>
<li>Waterfall</li>
<li>Moonlight</li>
<li>Rocky (representing Rocky Point)</li>
</ul>
<p >Other harvest areas can be checked using this function (just need to know their name and use it as the harvest_name variable.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">harvest_name</td><td>Name of harvest area. </td></tr>
    <tr><td class="paramname">ha_status</td><td>Harvest area struct to populate with status information. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Code representing CURL response status. </dd></dl>

</div>
</div>
<a id="a18dde823076bb884eb7f19ab0827ca71" name="a18dde823076bb884eb7f19ab0827ca71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18dde823076bb884eb7f19ab0827ca71">&#9670;&nbsp;</a></span>FA_ParseResponse()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void FA_ParseResponse </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_f_a___harvest_area_status___type_def.html">FA_HarvestAreaStatus_TypeDef</a> *&#160;</td>
          <td class="paramname"><em>ha_status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Parse HTML data to populate status information data. </p>
<p >Takes a character array containing HTML data and formats a struct containing relevent harvest area status information.</p>
<p >Search terms are taken from the HTML input and the corresponding values (i.e. the text between relevent tags) are added to the corresponding struct.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>The string to parse. </td></tr>
    <tr><td class="paramname">ha_status</td><td>The struct to populate with values. </td></tr>
  </table>
  </dd>
</dl>
<p >Convert time to tm struct</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_f9f80afd5d15e9172994f4290d3fffae.html">FoodAuthority</a></li><li class="navelem"><a class="el" href="food__auth_8c.html">food_auth.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2 </li>
  </ul>
</div>
</body>
</html>
